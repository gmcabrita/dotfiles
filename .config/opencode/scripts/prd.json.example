{
  "branchName": "user-authentication",
  "tasks": [
    {
      "id": "T-001",
      "priority": 1,
      "category": "db",
      "description": "Create users table with authentication fields",
      "references": ["src/db/schema.ts", "src/db/migrations/"],
      "steps": [
        "Add users table schema with id, email, passwordHash, createdAt, updatedAt",
        "Add unique index on email",
        "Generate migration file",
        "Run migration"
      ],
      "acceptanceCriteria": [
        "Users table exists in database",
        "Email uniqueness enforced at DB level",
        "Migration is reversible"
      ],
      "status": "todo",
      "blockedReason": null
    },
    {
      "id": "T-002",
      "priority": 2,
      "category": "api",
      "description": "Implement user registration endpoint",
      "references": ["src/routes/auth.ts", "src/services/user.ts"],
      "steps": [
        "Create POST /api/auth/register endpoint",
        "Validate email format and password strength",
        "Hash password with bcrypt",
        "Store user in database",
        "Return user object without password"
      ],
      "acceptanceCriteria": [
        "Endpoint returns 201 on success",
        "Endpoint returns 400 for invalid input",
        "Endpoint returns 409 if email exists",
        "Password never returned in response"
      ],
      "status": "todo",
      "blockedReason": null
    },
    {
      "id": "T-003",
      "priority": 3,
      "category": "api",
      "description": "Implement user login endpoint",
      "references": ["src/routes/auth.ts", "src/services/auth.ts"],
      "steps": [
        "Create POST /api/auth/login endpoint",
        "Validate email and password",
        "Compare password hash",
        "Generate JWT token",
        "Return token and user object"
      ],
      "acceptanceCriteria": [
        "Endpoint returns 200 with token on success",
        "Endpoint returns 401 for invalid credentials",
        "Token expires in 24 hours",
        "Token contains user id and email"
      ],
      "status": "todo",
      "blockedReason": null
    },
    {
      "id": "T-004",
      "priority": 4,
      "category": "test",
      "description": "Write tests for authentication endpoints",
      "references": ["src/__tests__/auth.test.ts"],
      "steps": [
        "Test successful registration",
        "Test registration validation errors",
        "Test duplicate email rejection",
        "Test successful login",
        "Test invalid credentials rejection",
        "Test token validation"
      ],
      "acceptanceCriteria": [
        "All tests pass",
        "Coverage > 80% for auth modules",
        "Tests are isolated (no shared state)"
      ],
      "status": "todo",
      "blockedReason": null
    }
  ]
}
